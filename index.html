<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Natural Food 2025 - Inicio de Sesión</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(to bottom, #E6E6FA, #D8BFD8, #FFFFFF);
            color: #333;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 400px;
            margin: 50px auto;
            background: #FFF;
            border-radius: 15px;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
            padding: 25px;
            text-align: center;
        }
        h1 {
            color: #4B0082;
            margin-bottom: 20px;
            font-size: 28px;
            text-align: center;
        }
        .login-logo {
            font-size: 60px;
            color: #DDD;
            margin-bottom: 15px;
        }
        input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 1px solid #DDD;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 16px;
        }
        button {
            background: linear-gradient(to right, #6A5ACD, #4B0082);
            color: #FFF;
            border: none;
            padding: 12px;
            width: 100%;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            transition: background 0.3s ease;
        }
        button:hover {
            background: linear-gradient(to right, #4B0082, #6A5ACD);
        }
        .hidden {
            display: none;
        }
        .fincas-container {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            padding: 20px;
        }
        .fincas-buttons {
            width: 50%;
            text-align: left;
        }
        .fincas-buttons .button-link {
            display: block;
            margin: 10px 0;
            padding: 12px 20px;
            background: linear-gradient(to right, #7B68EE, #4B0082);
            color: #FFF;
            text-decoration: none;
            font-size: 16px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease, background 0.3s ease;
        }
        .fincas-buttons .button-link:hover {
            background: linear-gradient(to right, #4B0082, #7B68EE);
            transform: scale(1.05);
        }
        .fincas-image {
            width: 45%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .fincas-image img {
            max-width: 100%;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .admin-button {
            margin-top: 20px;
            background: linear-gradient(to right, #8A2BE2, #4B0082);
        }
        .admin-button:hover {
            background: linear-gradient(to right, #4B0082, #8A2BE2);
        }
        .users-container {
            padding: 20px;
        }
        .users-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        .users-table th, .users-table td {
            border: 1px solid #DDD;
            padding: 10px;
            text-align: center;
        }
        .users-table th {
            background: #4B0082;
            color: #FFF;
        }
    </style>
</head>
<body>
    <h1>Natural Food 2025</h1>
    <div class="container" id="login-container">
        <div class="login-logo">&#128100;</div>
        <form id="login-form">
            <input type="text" id="username" placeholder="Nombre de usuario" required>
            <input type="password" id="password" placeholder="Clave" required>
            <button type="submit">Iniciar Sesión</button>
        </form>
        <p id="error-message" style="color: red; display: none;">Usuario o clave incorrectos.</p>
    </div>
    <div class="hidden" id="home-container">
        <h1>Bienvenido, <span id="user-name"></span></h1>
        <h2>Natural Food 2025</h2>
        <button onclick="navigateTo('fincas')">Fincas</button>
        <button onclick="navigateTo('planta')">Planta</button>
        <button onclick="navigateTo('comercial')">Comercial</button>
        <button class="hidden admin-button" id="admin-users-button" onclick="navigateTo('users')">Usuarios</button>
    </div>

    <div class="hidden" id="fincas-container" class="fincas-container">
        <h1>Fincas 2025</h1>
        <div class="fincas-container">
            <div class="fincas-buttons">
                <a href="https://app.powerbi.com/view?r=eyJrIjoiZDcxYWQ3OTQtNTM5Zi00OTVjLTk1YTgtOWY4YzU4ZGJmYjQxIiwidCI6ImNmMDc4MjNiLTc3NjAtNGYwZS05OTA0LWZjYmZhOTViZGE4NSJ9" target="_blank" class="button-link">Registro histórico de temperaturas 2022/2025</a>
                <a href="https://app.powerbi.com/view?r=eyJrIjoiMjVlZTE2YmItZWJhZS00ZTQwLTk5OTYtNzhjNTc0OWYxNzg3IiwidCI6ImNmMDc4MjNiLTc3NjAtNGYwZS05OTA0LWZjYmZhOTViZGE4NSJ9" target="_blank" class="button-link">Cosechas 2013/2025</a>
                <a href="https://app.powerbi.com/view?r=eyJrIjoiNjU4ZGQwZWYtMzY5MS00MTU5LWE2OGUtOWNmZjgzODBjMjAxIiwidCI6ImNmMDc4MjNiLTc3NjAtNGYwZS05OTA0LWZjYmZhOTViZGE4NSJ9" target="_blank" class="button-link">Comparativo de Gastos Fincas 2024/2025</a>
                <a href="https://www.sofiagestionagricola.cl/" target="_blank" class="button-link">App de Gestión</a>
                <button onclick="goBack()">Volver</button>
            </div>
            <div class="fincas-image">
                <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/Grape_vine.jpg" alt="Planta de vid en crecimiento">
            </div>
        </div>
    </div>

    <div class="hidden" id="users-container">
        <div class="users-container">
            <h1>Gestión de Usuarios</h1>
            <table class="users-table">
                <thead>
                    <tr>
                        <th>Usuario</th>
                        <th>Clave</th>
                    </tr>
                </thead>
                <tbody id="users-table-body">
                </tbody>
            </table>
            <form id="add-user-form">
                <input type="text" id="new-username" placeholder="Nuevo usuario" required>
                <input type="password" id="new-password" placeholder="Nueva clave" required>
                <button type="submit">Agregar Usuario</button>
            </form>
            <p id="success-message" style="color: green; display: none;">Usuario agregado satisfactoriamente.</p>
            <button onclick="goBack()">Volver</button>
        </div>
    </div>

    <script>
        const users = {
            admin: "admin",
            Leandro: "071291",
            Jose: "Jose123",
            Santiago: "Santi234",
            Tomas: "Tomas345",
            Juan: "Juan456",
        };

        const loginForm = document.getElementById('login-form');
        const loginContainer = document.getElementById('login-container');
        const homeContainer = document.getElementById('home-container');
        const fincasContainer = document.getElementById('fincas-container');
        const usersContainer = document.getElementById('users-container');
        const userNameSpan = document.getElementById('user-name');
        const errorMessage = document.getElementById('error-message');
        const adminUsersButton = document.getElementById('admin-users-button');
        const usersTableBody = document.getElementById('users-table-body');
        const addUserForm = document.getElementById('add-user-form');
        const successMessage = document.getElementById('success-message');

        function populateUsersTable() {
            usersTableBody.innerHTML = '';
            Object.entries(users).forEach(([username, password]) => {
                const row = document.createElement('tr');
                row.innerHTML = `<td>${username}</td><td>${password}</td>`;
                usersTableBody.appendChild(row);
            });
        }

        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (users[username] === password) {
                userNameSpan.textContent = username;
                loginContainer.style.display = 'none';
                homeContainer.style.display = 'block';

                if (username === 'admin') {
                    adminUsersButton.style.display = 'block';
                } else {
                    adminUsersButton.style.display = 'none';
                }
            } else {
                errorMessage.style.display = 'block';
            }
        });

        function navigateTo(page) {
            homeContainer.style.display = 'none';

            if (page === 'fincas') {
                fincasContainer.style.display = 'block';
            } else if (page === 'planta') {
                alert('Página Planta en construcción');
            } else if (page === 'comercial') {
                alert('Página Comercial en construcción');
            } else if (page === 'users') {
                populateUsersTable();
                usersContainer.style.display = 'block';
            }
        }

        function goBack() {
            fincasContainer.style.display = 'none';
            usersContainer.style.display = 'none';
            homeContainer.style.display = 'block';
        }

        addUserForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const newUsername = document.getElementById('new-username').value;
            const newPassword = document.getElementById('new-password').value;

            if (!users[newUsername]) {
                users[newUsername] = newPassword;
                populateUsersTable();
                successMessage.style.display = 'block';
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 2000);
                addUserForm.reset();
            }
        });
    </script>
</body>
</html>
